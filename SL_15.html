<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>SL-15</title>
    <style>
        .box {
            border: blue 1px solid; /*境界線の指定*/
            padding:10px;
        }
        .box p {
            margin:0;
            padding:0;
        }
        .box_red {
            border: red 1px solid; /*境界線の指定*/
            padding:10px;
        }
        .box_red p {
            margin:0;
            padding:0;
        }
        ol.list_parentheses{
              padding:0 0 0 2em;
              margin:0;
        }
        ol.list_parentheses li{
              list-style-type:none;
              list-style-position:inside;
              counter-increment: cnt;
        }
        ol.list_parentheses li:before{
              display: marker;
              content: "(" counter(cnt) ") ";
        }
        .container {
          margin: 0;
        }
        /* PCの画面サイズの場合のみ左右に幅800pxを設定 */
        @media screen and (min-width: 680px) {
            .container {
                width: 700px;
                margin-left: auto; /* 左右中央に配置 */
                margin-right: auto;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>

    <script>
        window.onload = function() {
        renderMathInElement(document.body, {delimiters: [
            {left: "\\[", right: "\\]", display: true},
            {left: "$", right: "$", display: false}
        ]});
        };
    </script>

<script>
    let numerator1 = Math.floor(Math.random()*6+1);
    let q1 = "$ \\left( \\dfrac{"+ numerator1 +"}{7} \\right) =$";
    let ans1_value = findLegendreSymbol(numerator1, 7);
    let ans1;
    if(ans1_value == 1){
        ans1 = "$ \\quad \\! " + ans1_value + "$";
    } else{
        ans1 = "$" + ans1_value + "$";
    }
    
    let numerator2;
    while(true){
        numerator2 = Math.floor(Math.random()*43 + 8);
        if(numerator2 % 7 != 0){
            break;
        }
    }
    let q2 = "$ \\left( \\dfrac{"+ numerator2 +"}{7} \\right) =$";
    let ans2_value = findLegendreSymbol(numerator2, 7);
    let ans2;
    if(ans2_value == 1){
        ans2 = "$ \\quad \\! " + ans2_value + "$";
    } else{
        ans2 = "$" + ans2_value + "$";
    }

    let numerator3 = Math.floor(Math.random()*10+1);
    let q3 = "$ \\left( \\dfrac{"+ numerator3 +"}{11} \\right) =$";
    let ans3_value = findLegendreSymbol(numerator3, 11);
    let ans3;
    if(ans3_value == 1){
        ans3 = "$ \\quad \\! " + ans3_value + "$";
    } else{
        ans3 = "$" + ans3_value + "$";
    }

    let numerator4;
    while(true){
        numerator4 = Math.floor(Math.random()*39 + 12);
        if(numerator4 % 11 != 0){
            break;
        }
    }
    let q4 = "$ \\left( \\dfrac{"+ numerator4 +"}{11} \\right) =$";
    let ans4_value = findLegendreSymbol(numerator4, 11);
    let ans4;
    if(ans4_value == 1){
        ans4 = "$ \\quad \\! " + ans4_value + "$";
    } else{
        ans4 = "$" + ans4_value + "$";
    }

    function findLegendreSymbol(numerator, denominator){
        let result = -1;
        for(let i=1; i<denominator; i++){
            if((i**2)%denominator == (numerator % denominator)){
                result = 1;
            }
        }
        return result;
    }

    function show_answer1(){document.getElementById("a1_id").style.color = "red";}
    function show_answer2(){document.getElementById("a2_id").style.color = "red";}
    function show_answer3(){document.getElementById("a3_id").style.color = "red";}
    function show_answer4(){document.getElementById("a4_id").style.color = "red";}
    function show_answer5(){document.getElementById("a5_id").style.color = "red";}
    function show_answer6(){document.getElementById("a6_id").style.color = "red";}
</script>

</head>

<body>
<div class="container">
 <center>
    <h1>ルジャンドル記号</h1>
 </center>
 <div class="box">
    $p$ を奇素数、$a$ を $p$ の倍数でない整数とする。
    このとき記号 $( \frac{a}{p} )$ を
    \[ \left( \frac{a}{p} \right) = \begin{cases}
    1 \qquad &\exists x \in \mathbb{Z} \text{ s.t. } x^2 \equiv a \pmod{p} \\
    -1 \qquad &\not\exists x \in \mathbb{Z} \text{ s.t. } x^2 \equiv a \pmod{p}
    \end{cases} \]
    で定める。
    $( \frac{a}{p} )$ の値は合同方程式
    \[ x^2 \equiv a \pmod{p} \]
    が解を持てば $1$、解を持たなければ $-1$ である。
    それゆえ合同式の性質から、任意の整数 $s$ に対して
    \[ \left( \frac{a}{p} \right) = \left( \frac{a+sp}{p} \right) \]
    が成り立つ。
 </div>
 <p> <!-- ボタンの位置をなんとかしたい・・・ -->
    次の値を計算せよ。<br> <br>
    [1] <script>document.write(q1);</script> <span id="a1_id" style="color:transparent"><script>document.write(ans1);</script></span>　　<button style="position: relative; right: 0;" onclick="show_answer1()">答え</button>
    　<br> <br>
    [2] <script>document.write(q2);</script> <span id="a2_id" style="color:transparent"><script>document.write(ans2);</script></span>　　<button style="position: relative; right: 0;" onclick="show_answer2()">答え</button>
    　<br> <br>
    [3] <script>document.write(q3);</script> <span id="a3_id" style="color:transparent"><script>document.write(ans3);</script></span>　　<button style="position: relative; right: 0;" onclick="show_answer3()">答え</button>
    　<br> <br>
    [4] <script>document.write(q4);</script> <span id="a4_id" style="color:transparent"><script>document.write(ans4);</script></span>　　<button style="position: relative; right: 0;" onclick="show_answer4()">答え</button>
    　<br> <br> <br>
    <!--
    [1] 合同方程式 <script>document.write(q3);</script> を解くと $x \equiv$ <span id="a3_id" style="color:transparent"><script>document.write(ans3_text);</script></span> $\pmod{21}$ である。　　<button onclick="show_answer3()">答え</button>
    　<br> <br>
    [2] 合同方程式 <script>document.write(q4);</script> を解くと $x \equiv$ <span id="a4_id" style="color:transparent"><script>document.write(ans4_text);</script></span> $\pmod{21}$ である。　　<button onclick="show_answer4()">答え</button>
    　<br> <br>
    [3] 合同方程式 <script>document.write(q1);</script> を解くと $x \equiv$ <span id="a1_id" style="color:transparent"><script>document.write(ans1_text);</script></span> $\pmod{33}$ である。　　<button onclick="show_answer1()">答え</button>
    　<br> <br>
    [4] 合同方程式 <script>document.write(q2);</script> を解くと $x \equiv$ <span id="a2_id" style="color:transparent"><script>document.write(ans2_text);</script></span> $\pmod{33}$ である。　　<button onclick="show_answer2()">答え</button>
    <br> <br> <br>
    -->
 </p>
</div>
</body>
</html>